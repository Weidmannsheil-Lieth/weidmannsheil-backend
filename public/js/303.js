(self.webpackChunk=self.webpackChunk||[]).push([[303],{5303:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});const s={data:function(){return{isLoading:!1,data:null}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.isLoading=!0,window.axios.get("/dashboard/requests-today").then((function(e){return t.data=e.data})).finally((function(){return t.isLoading=!1}))}}};var a=n(1900);const i=(0,a.Z)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v("\n        API Anfragen heute\n    ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("bar-chart",{attrs:{data:t.data,height:"450px"}})],1)],1)}),[],!1,null,null,null).exports;const o={data:function(){return{isLoading:!1,data:null}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.isLoading=!0,window.axios.get("/dashboard/requests-month").then((function(e){return t.data=e.data})).finally((function(){return t.isLoading=!1}))}}};const r=(0,a.Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v("\n        API Anfragen diesen Monat\n    ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("line-chart",{attrs:{data:t.data,height:"450px"}})],1)],1)}),[],!1,null,null,null).exports;const l={data:function(){return{isLoading:!1,items:[],footerProps:{itemsPerPageOptions:[10,20,30]},headers:[{text:"Datum",value:"createdAt"},{text:"Benutzer",value:"user.name"},{text:"Objekt",value:"modelType"},{text:"Objekt ID",value:"modelId"},{text:"Aktivität",value:"activityId"}],activities:{1:"Erstellt",2:"Bearbeitet",3:"Gelöscht"}}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.isLoading=!0,window.axios.get("/activity-log").then((function(e){return t.items=e.data.data})).finally((function(){return t.isLoading=!1}))}}};const d=(0,a.Z)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v("\n        Aktivitäten\n    ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("v-data-table",{attrs:{loading:t.isLoading,headers:t.headers,items:t.items,"footer-props":t.footerProps,"no-data-text":"Es wurden keine Aktivitäten gefunden.","disable-sort":"",dense:""},scopedSlots:t._u([{key:"item.createdAt",fn:function(e){var n=e.item;return[t._v("\n                "+t._s(t._f("dateTime")(n.createdAt))+"\n            ")]}},{key:"item.activityId",fn:function(e){var n=e.item;return[t._v("\n                "+t._s(t.activities[n.activityId])+"\n            ")]}}])})],1)],1)}),[],!1,null,null,null).exports;const c={props:{loginLog:{type:Object,required:!0,default:function(){return null}}},data:function(){return{actionIds:{1:"Erfolgreicher Login",2:"Fehlgeschlagener Login",3:"Logout"}}},methods:{getIpAddressDetailsField:function(t){return this.loginLog.ipAddressDetails&&this.loginLog.ipAddressDetails[t]?this.loginLog.ipAddressDetails[t]:null},getIpAddressDetailsValue:function(t){var e;return null!==(e=this.getIpAddressDetailsField(t))&&void 0!==e?e:"-"},getCountryImageSrc:function(t){return t?"https://www.countryflags.io/"+t+"/shiny/16.png":null}}};const v={components:{LoginLogDetailsDialog:(0,a.Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"1000"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"primary",small:"",icon:""}},"v-btn",a,!1),s),[n("v-icon",{attrs:{small:""}},[t._v("\n                fa-eye\n            ")])],1)]}}])},[t._v(" "),n("v-card",[n("v-card-title",[t._v("\n            "+t._s(t._f("dateTime")(t.loginLog.createdAt))+" - "+t._s(t.loginLog.ipAddress)+"\n        ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",{staticClass:"mt-2"},[n("v-row",[n("v-col",{attrs:{cols:"12",lg:"6"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"font-weight-bold",attrs:{cols:"6"}},[t._v("\n                            Datum\n                        ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v("\n                            "+t._s(t._f("dateTime")(t.loginLog.createdAt))+"\n                        ")]),t._v(" "),n("v-col",{staticClass:"font-weight-bold",attrs:{cols:"6"}},[t._v("\n                            Aktion\n                        ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v("\n                            "+t._s(t.actionIds[t.loginLog.actionId])+"\n                        ")]),t._v(" "),n("v-col",{staticClass:"font-weight-bold",attrs:{cols:"6"}},[t._v("\n                            Username\n                        ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v("\n                            "+t._s(t.loginLog.username)+"\n                        ")])],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",lg:"6"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"font-weight-bold",attrs:{cols:"6"}},[t._v("\n                            IP-Adresse\n                        ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v("\n                            "+t._s(t.loginLog.ipAddress)+"\n                        ")]),t._v(" "),n("v-col",{staticClass:"font-weight-bold",attrs:{cols:"6"}},[t._v("\n                            Stadt\n                        ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v("\n                            "+t._s(t.getIpAddressDetailsValue("city"))+"\n                        ")]),t._v(" "),n("v-col",{staticClass:"font-weight-bold",attrs:{cols:"6"}},[t._v("\n                            Region\n                        ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v("\n                            "+t._s(t.getIpAddressDetailsValue("region"))+"\n                        ")]),t._v(" "),n("v-col",{staticClass:"font-weight-bold",attrs:{cols:"6"}},[t._v("\n                            Land\n                        ")]),t._v(" "),n("v-col",{staticClass:"d-flex justify-start align-center",attrs:{cols:"6"}},[t.getIpAddressDetailsField("country")?n("div",{staticClass:"mr-1",staticStyle:{width:"16px"}},[n("v-img",{attrs:{src:t.getCountryImageSrc(t.getIpAddressDetailsField("country"))}})],1):t._e(),t._v("\n                            "+t._s(t.getIpAddressDetailsValue("country"))+"\n                        ")]),t._v(" "),n("v-col",{staticClass:"font-weight-bold",attrs:{cols:"6"}},[t._v("\n                            Standort\n                        ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v("\n                            "+t._s(t.getIpAddressDetailsValue("loc"))+"\n                        ")]),t._v(" "),n("v-col",{staticClass:"font-weight-bold",attrs:{cols:"6"}},[t._v("\n                            Zeitzone\n                        ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v("\n                            "+t._s(t.getIpAddressDetailsValue("timezone"))+"\n                        ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{isLoading:!1,items:[],footerProps:{itemsPerPageOptions:[10,20,30]},headers:[{text:"Datum",value:"createdAt"},{text:"Username",value:"username"},{text:"IP-Adresse",value:"ipAddress"},{text:"Aktionen",value:"actions"}]}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.isLoading=!0,window.axios.get("/login-log").then((function(e){return t.items=e.data.data})).finally((function(){return t.isLoading=!1}))}}};const u={components:{LoginLogCard:(0,a.Z)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v("\n        Anmeldungen\n    ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("v-data-table",{attrs:{loading:t.isLoading,headers:t.headers,items:t.items,"footer-props":t.footerProps,"no-data-text":"Es wurden keine Anmeldungen gefunden.","disable-sort":"",dense:""},scopedSlots:t._u([{key:"item.createdAt",fn:function(e){var n=e.item;return[t._v("\n                "+t._s(t._f("dateTime")(n.createdAt))+"\n            ")]}},{key:"item.actions",fn:function(t){var e=t.item;return[n("login-log-details-dialog",{attrs:{"login-log":e}})]}}])})],1)],1)}),[],!1,null,null,null).exports,ActivityLogCard:d,RequestsTodayCard:i,RequestsMonthCard:r}};const g=(0,a.Z)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"text-h5 pt-2 ml-4"},[t._v("Dashboard")])]),t._v(" "),n("v-col",{attrs:{cols:"12",lg:"6"}},[n("requests-today-card")],1),t._v(" "),n("v-col",{attrs:{cols:"12",lg:"6"}},[n("requests-month-card")],1),t._v(" "),n("v-col",{attrs:{cols:"12",lg:"6"}},[n("activity-log-card")],1),t._v(" "),n("v-col",{attrs:{cols:"12",lg:"6"}},[n("login-log-card")],1)],1)],1)}),[],!1,null,null,null).exports}}]);